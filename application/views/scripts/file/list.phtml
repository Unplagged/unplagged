<?php
    $this->title = $this->translate("List of uploaded files");
    $this->headTitle($this->title);
?>
<table cellpadding="0" cellspacing="0" class="default"> 
  <tr>
    <th><?php echo $this->translate("Filename"); ?></th>
    <th style="width: 110px;"><?php echo $this->translate("Size"); ?></th>
    <th style="width: 200px;"><?php echo $this->translate("Actions"); ?></th>
  </tr>
  <?php 
  $i = 0;
  foreach($this->listFiles as $file): 
    ?>
  <tr <?php echo ($i++ %2 == 0) ? "class=\"even\"" : ""; ?>>
    <td><?php echo $file->getFilename(); ?></td>
    <td><?php echo $file->getSize(); ?></td>
    <td>[ <a href="<?php echo "/file/download/id/" . $file->getId(); ?>"><?php echo $this->translate("download"); ?></a> | 
          <?php if($file->getIsTarget()) { ?>
            <a href="<?php echo "/file/unset-target/id/" . $file->getId(); ?>"><?php echo $this->translate("unset target"); ?></a>
          <?php } else { ?>
            <a href="<?php echo "/file/set-target/id/" . $file->getId(); ?>"><?php echo $this->translate("set target"); ?></a>
          <?php } ?> 
            ]</td>
  </tr>
  <?php endforeach; ?>
</table>
  <a href="/file/upload"><?php echo $this->translate("Upload a file"); ?></a>